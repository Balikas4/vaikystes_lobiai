{% extends 'base.html' %}
{% load static %}

{% block title %}Maitinimas{% endblock %}

{% block content %}
<!-- Hero Section -->
<div class="slighter">
    <section class="hero nutrition-hero">
        <div class="hero-text">
            <h1>Sveika ir subalansuota mityba</h1>
            <p>DarÅ¾elyje vaikai maitinami mÅ«sÅ³ virtuvÄ—je pagaminu, plataus asortimento Å¡vieÅ¾iu maistu. Maisto racionas subalansuotas ir alergiÅ¡kiems vaikams. Vaikai turi galimybÄ™ pasirinkti ir pakartoti norimo maisto. Dalyvaujame â€VaisiÅ³ ir darÅ¾oviÅ³ bei pieno ir pieno produktÅ³ vartojimo skatinimo vaikÅ³ ugdymo Ä¯staigoseâ€œ programoje, kasdien uÅ¾kandÅ¾iaujame Å¡vieÅ¾iais vaisiais bei termiÅ¡kai neapdorotomis darÅ¾ovÄ—mis.</p>
        </div>
        <div class="hero-photo">
            <img src="{% static 'images/Sveikas_maistas.jpg' %}" alt="Hero Photo">
        </div>
    </section>
</div>
<!-- Nutrition Section -->
<div class="swhite">
    <section id="nutrition" class="misviz nutricija">
        <div class="nutrition-container">
            <div class="nutrition-wrapper">
                {% for week_number, daily_nutrition in weeks.items %}
                    <div class="nutrition-item">
                        <div class="nutrition-navigation">
                            <button class="nav-button prev">&lt;</button>
                            <h3>ValgiaraÅ¡tis | {{ week_number }} SavaitÄ—</h3>
                            <button class="nav-button next">&gt;</button>
                        </div>
                        <div class="card-holder">
                            {% for day_nutrition in daily_nutrition %}
                                <div class="card">
                                    <h4>{{ day_nutrition.day }}</h4>
                                    {% for nutrient in day_nutrition.nutrients.all %}
                                        {% if forloop.counter == 1 %}
                                            <p>ğŸ³ PusryÄiai</p>
                                            <li>{{ nutrient.name }}</li>
                                        {% elif forloop.counter == 2 %}
                                            <p>ğŸ½ PietÅ«s</p>
                                            <li>{{ nutrient.name }}</li>
                                        {% elif forloop.counter == 3 %}
                                            <p>ğŸ² VakarienÄ—</p>
                                            <li>{{ nutrient.name }}</li>
                                        {% endif %}
                                    {% endfor %}
                                </div>
                            {% empty %}
                                <p>No nutrition data available for this week.</p>
                            {% endfor %}
                        </div>
                    </div>
                {% endfor %}
            </div>
        </div>
    </section>
</div>

<!-- Video  -->
<div class="slighter">
    <section class="video-section">
        <h1 class="video-header">Laida Stilius apie mÅ«sÅ³ darÅ¾elio mitybÄ…</h1>
        <div class="video-container">
            <div style="position: relative; overflow: hidden; padding-top: 56.25%;">
                <iframe style="position: absolute; top: 0; left: 0; width: 100%; height: 100%; border: 0;"
                        src="https://www.lrt.lt/mediateka/irasas/1013682460/stilius-2018-01-06?embed&time_start=1968"
                        frameborder="0" scrolling="no" allowfullscreen>
                </iframe>
            </div>
        </div>
    </section>
</div>
<!-- Hero Button -->
<div class="slight">
    <section class="hero-button">
        <div class="button-text">
            <a href="{% url 'register'%}" class="registracija-button">Registracija</a>
            <p>Prisijunkite prie â€VaikystÄ—s lobiÅ³â€œ!</p>
        </div>
    </section>
</div>
<script>
    document.addEventListener('DOMContentLoaded', function () {
        const wrapper = document.querySelector('.nutrition-wrapper');
        const items = document.querySelectorAll('.nutrition-item');
        const prevButtons = document.querySelectorAll('.nav-button.prev');
        const nextButtons = document.querySelectorAll('.nav-button.next');
        const totalItems = items.length;
        let currentIndex = 0;
    
        function updateCarousel() {
            const translateX = -currentIndex * 100; // Move to the correct week
            wrapper.style.transform = `translateX(${translateX}%)`;
        }
    
        function setupNavigation() {
            prevButtons.forEach(button => {
                button.addEventListener('click', () => {
                    if (currentIndex > 0) {
                        currentIndex--;
                    } else {
                        currentIndex = totalItems - 1; // Loop back to the last item
                    }
                    updateCarousel();
                });
            });
    
            nextButtons.forEach(button => {
                button.addEventListener('click', () => {
                    if (currentIndex < totalItems - 1) {
                        currentIndex++;
                    } else {
                        currentIndex = 0; // Loop back to the first item
                    }
                    updateCarousel();
                });
            });
        }
    
        // Initialize carousel
        updateCarousel();
        setupNavigation();
    });
</script>
{% endblock %}

